{"version":3,"file":"bundle.js","sources":["../index.js","main.js"],"sourcesContent":["if (!window) throw Error('`window` is not defined. This module is for browser environment.')\n\nfunction WindowEventProxy() {\n    const eventListener = {}\n\n    this.addEventListener = (eventKey, key, func) => {\n        // set default value\n        if (!eventListener[eventKey]) eventListener[eventKey] = {}\n\n        // save listener\n        eventListener[eventKey][key] = func\n\n        // add listener to real window\n        window.addEventListener(eventKey, func)\n    }\n\n    this.removeEventListener = (eventKey, key) => {\n        // remove listener from real window first\n        window.removeEventListener(eventKey, eventListener[eventKey][key])\n\n        // remove listener\n        delete eventListener[eventKey][key]\n    }\n\n    this.debug = () => {\n        const id = 'WindowEventProxy'\n        let debugWindow = document.getElementById(id)\n        if (debugWindow) document.body.removeChild(debugWindow)\n\n        debugWindow = document.createElement('div')\n        debugWindow.id = 'WindowEventProxy'\n        debugWindow.style.border = '1px solid'\n        debugWindow.style.padding = '1rem'\n\n        const listeners = []\n        Object.keys(eventListener).forEach(eventKey => {\n            Object.keys(eventListener[eventKey]).forEach(key => {\n                listeners.push(eventKey + '/' + key)\n            });\n        });\n\n        debugWindow.innerHTML = `<pre><code>${JSON.stringify(listeners, ' ', 2)}</code></pre>`\n        document.body.appendChild(debugWindow)\n        console.log(this)\n    }\n\n    return this\n}\n\nconst windowEventProxy = new WindowEventProxy()\n\nexport default windowEventProxy","import windowEventProxy from \"../index.js\";\n\nconsole.log(windowEventProxy)\nwindowEventProxy.addEventListener('mousemove', 'testId', () => {\n    console.log('mousemoving...')\n})\n\nwindowEventProxy.debug()\n\nsetTimeout(() => {\n    windowEventProxy.removeEventListener('mousemove', 'testId')\n    console.log('mousemove event removed')\n}, 1000)\n\n// GUI for testing\nconst addClickEventButton = document.createElement('button')\naddClickEventButton.innerHTML = 'Add click event'\naddClickEventButton.onclick = function() {\n    windowEventProxy.addEventListener('click', Math.random().toString(), () => {console.log('clicked')})\n    windowEventProxy.debug()\n}\ndocument.body.appendChild(addClickEventButton)"],"names":[],"mappings":"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"}